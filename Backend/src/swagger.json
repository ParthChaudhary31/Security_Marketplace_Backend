{
  "openapi": "3.0.0",
  "info": {
    "title": "Auditbazar",
    "description": "Auditbazar APIs",
    "version": "1.0.0"
  },
  "produces": ["application/json"],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat":"JWT",
        "name": "authorization",
        "in": "header",
        "description": "Jwt authentication to access wallet service"
      }
    },
    "schemas": {}
  },
  "paths": {
    "/api/v1/register": {
      "post": {
        "tags": ["Register User"],
        "summary": "Register User",
        "requestBody": {
          "description": "",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emailAddress": { "type": "string", "required": true },
                  "firstName": { "type": "string", "required": true },
                  "lastName": { "type": "string", "required": true },
                  "password": { "type": "string", "required": true },
                  "confirmPassword": { "type": "string", "required": true }
                },
                "example": {
                  "emailAddress": "test@gmail.com",
                  "firstName": "test",
                  "lastName": "again",
                  "password": "Asdervf@12r",
                  "confirmPassword": "Asdervf@12r"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User Register Successfully"
          },
          "400": {
            "description": "Please enter your credentials correctly"
          }
        }
      }
    },
    "/api/v1/login": {
      "post": {
        "tags": ["Login"],
        "summary": "Login User",
        "requestBody": {
          "description": "",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emailAddress": { "type": "string", "required": true },
                  "password": { "type": "string", "required": "true" }
                },
                "example": {
                  "emailAddress": "test@gmail.com",
                  "password": "Asdervf@12r"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User Logged in successfully"
          },
          "400": {
            "description": "Please enter your credentials correctly"
          }
        }
      }
    },
    "/api/v1/getUserInfo": {
      "post": {
        "tags": ["Get user info"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Get User Info",
        "requestBody": {
          "description": "",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emailAddress": { "type": "string", "required": true }
                },
                "example": {
                  "emailAddress": "test@gmail.com"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User Info fetched successfully"
          },
          "400": {
            "description": "Please enter your credentials correctly"
          }
        }
      }
    },
    "/api/v1/updateProfile": {
      "post": {
        "tags": ["Update user profile"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Update user profile",
        "requestBody": {
          "description": "",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emailAddress": { "type": "string", "required": true },
                  "walletAddress": { "type": "string", "required": false },
                  "firstName": { "type": "string", "required": true },
                  "lastName": { "type": "string", "required": false },
                  "gitHub": { "type": "string", "required": false },
                  "linkedIn": { "type": "string", "required": false },
                  "telegram": { "type": "string", "required": false },
                  "bio": { "type": "string", "required": false },
                  "profilePicture": { "type": "string", "required": false }
                },
                "example": {
                  "emailAddress": "test@gmail.com",
                  "walletAddress": "",
                  "firstName": "admin",
                  "lastName": "now",
                  "gitHub": "",
                  "linkedIn": "",
                  "telegram": "",
                  "bio": "",
                  "profilePicture": ""
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile updated successfully"
          },
          "400": {
            "description": "Please enter your credentials correctly"
          }
        }
      }
    },
    "/api/v1/updatePassword": {
      "post": {
        "tags": ["Password Update"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Password Update",
        "requestBody": {
          "description": "",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {



                  "emailAddress": { "type": "string", "required": true },
                  "oldPassword": [{ "type": "string", "required": true }],
                  "newPassword": { "type": "string", "required": true },
                  "confirmPassword": { "type": "string", "required": true }
                },
                "example": {
                  "emailAddress":"test@gmail.com",
                  "oldPassword":"Asdervf@12r",
                  "newPassword":"Zxcvbnm@123",
                  "confirmPassword":"Zxcvbnm@123"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password updated successfully"
          },
          "400": {
            "description": "Please enter your credentials correctly"
          }
        }
      }
    },
    "/api/v1/registerAudit": {
      "post": {
        "tags": ["Register Audit"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Register Audit",
        "requestBody": {
          "description": "",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emailAddress": { "type": "string", "required": true },
                  "auditType": [{ "type": "string", "required": true }],
                  "gitHub": { "type": "string", "required": true },
                  "offerAmount": { "type": "number", "required": true },
                  "estimatedDelivery": { "type": "string", "required": true },
                  "description": { "type": "string", "required": true },
                  "socialLink": { "type": "string", "required": true }
                },
                "example": {
                  "emailAddress": "test@gmail.com",
                  "auditType": ["Smart Contract Audit", "Penetration Testing"],
                  "gitHub": "valid Gthub repo link",
                  "offerAmount": 5,
                  "estimatedDelivery": "DD/MM/YYYY",
                  "description": "Describe you request",
                  "socialLink": "any community channel would be fine"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Audit registered in successfully"
          },
          "400": {
            "description": "Please enter your credentials correctly"
          }
        }
      }
    },

    "/api/v1/updateAuditStatus": {
      "post": {
        "tags": ["Update audit status"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Update Audit Status",
        "requestBody": {
          "description": "We need to retreive the post ID of an existing post which contains the status field PENDING or IN_PROGRESS. Status can be updated from PENDING -> IN_PROGRESS and IN_PROGRESS -> SUCCESS or IN_PROGRSS -> FAILED. Make sure you replace postID with 1",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emailAddress": { "type": "string", "required": true },
                  "postID": { "type": "number", "required": true },
                  "status": { "type": "string", "required": true }
                },
                "example": {
                  "emailAddress": "test@gmail.com",
                  "postID": 1,
                  "status": "IN_PROGRESS"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Audit Status updated successfully"
          },
          "400": {
            "description": "Please enter your credentials correctly"
          }
        }
      }
    },
    "/api/v1/updateAuditorID": {
      "post": {
        "tags": ["Update auditorID"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Update Auditor ID",
        "requestBody": {
          "description": "We need to retreive the post ID of an existing post which contains the status field PENDING S. Auditor Email can be anyone's email who registered into the platform. We suggest to register a new user into the platform before hitting this API. Make sure you replace postID with 1",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emailAddress": { "type": "string", "required": true },
                  "postID": { "type": "number", "required": true },
                  "auditorEmail": { "type": "string", "required": true }
                },
                "example": {
                  "emailAddress": "test@gmail.com",
                  "postID": 1,
                  "auditorEmail": "dummy@gmail.com"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "AuditorID updated successfully"
          },
          "400": {
            "description": "Please enter your credentials correctly"
          }
        }
      }
    },
    "/api/v1/getDetailsOfAllAuditsPublic": {
      "post": {
        "tags": ["Get details of all audits public"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Get details of all public audits ",
        "requestBody": {
          "description": "Data response here can be visible globally.",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emailAddress": { "type": "string", "required": true }
                },
                "example": {
                  "emailAddress": "test@gmail.com"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "All Public Audits fetched successfully"
          },
          "400": {
            "description": "Please enter your credentials correctly"
          }
        }
      }
    },
    "/api/v1/getDetailsOfAllAudits": {
      "post": {
        "tags": ["Get details of all audits"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Get Details of all audits",
        "requestBody": {
          "description": "Data response here is restricted to the user.",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emailAddress": { "type": "string", "required": true }
                },
                "example": {
                  "emailAddress": "test@gmail.com"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "All Audits fetched successfully"
          },
          "400": {
            "description": "Please enter your credentials correctly"
          }
        }
      }
    },
    "/api/v1/getDetailsOfAudit": {
      "post": {
        "tags": ["Get details of audit"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Get Details of audit",
        "requestBody": {
          "description": "Data response is restricted to a unique post ID",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emailAddress": { "type": "string", "required": true },
                  "postID": { "type": "string", "required": true }
                },
                "example": {
                  "emailAddress": "test@gmail.com",
                  "postID": 1
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Audit fetched successfully"
          },
          "400": {
            "description": "Please enter your credentials correctly"
          }
        }
      }
    }
  }
}